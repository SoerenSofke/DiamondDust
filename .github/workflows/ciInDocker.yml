name: CI in Docker

on: [push]

jobs:
  myjob:
    runs-on: ubuntu-18.04
    container:
      image: push docker.pkg.github.com/soerensofke/diamonddust/verilog:latest
    steps:
    - uses: actions/checkout@v1
    - run: make build
    - run: make compile
    - run: make simulate
    - run: make synthesize
    - run: make resources
    - run: make clean    
